@page "/testdeletemodal"

@rendermode InteractiveServer

<ConfirmDialog @ref="dialog" />

<Button Color="ButtonColor.Danger" @onclick="DeleteProjectAsync"> Delete </Button>

@code {
    private ConfirmDialog dialog = default!;

    [Inject] protected ToastService ToastService { get; set; } = default!;

    private async Task DeleteProjectAsync()
    {
        var parameters = new Dictionary<string, object>();
		parameters.Add("Id", 321); // 321 => Project ID to delete

        var confirmation = await dialog.ShowAsync<ProjectDemoComponent>("Are you sure you want to delete this project?", parameters);
        Console.WriteLine(confirmation);
        if (confirmation)
        {
            // call API to delete the project
            ToastService.Notify(new ToastMessage(ToastType.Success, $"Project deleted successfully."));
        }
        else
        {
            ToastService.Notify(new ToastMessage(ToastType.Secondary, $"Delete action canceled."));
        }
    }
}